# Lover Duck
- [実際のApp](http://52.69.32.105:3000/)

[![LoverDuck](https://github.com/jphacks/TK_1720/blob/master/app/images/main.png)](https://youtu.be/u9JsaFCgCrA)

## 製品概要
### お風呂 X  Tech

### 背景（製品開発のきっかけ,課題等）
- 毎日私たちがくつろぎの時間を過ごす,お風呂.しかし例年,**交通事故の死者数を上回る数の人命が,お風呂における溺死**によって失われていることは, あまりにも知られていない.
- その9割は高齢者であり,お風呂でうとうとと眠ってしまうこと -- 実際には血圧の低下による意識障害により溺死している.
- 既存の対策法として,お風呂そのものを改修工事し,そこにセンサを埋め込む方法があるが,10万円以上かつ要工事と導入ハードルが高いことや,救命のための措置ということに心理的嫌悪を抱く方々も多い.
- お風呂における意識障害の検出として, 画像処理によるものが考えられるが, プライベートな空間であるお風呂にデバイスを置くことに加え, お風呂で動画を撮影するということに対して, 特に本製品のメインターゲットである高齢者は不快に感じてしまうだろう. よって, 画像に頼らず, 不快感を感じさせない, 馴染んだ見た目のデバイスを開発することが求められる.
- 本ハッカソンにおいて我々は, これらの問題を解決し,より楽しくお風呂を楽しみながら,改修工事などをすることなく, 画像による検出に頼ることなく, 加速度と物音により, お風呂で意識を失っている状態を検知し, 毎年5000人以上の命を救う**Loverduck**を開発した.


[![LoverDuck](https://github.com/jphacks/TK_1720/blob/master/app/images/all_slides.png)](https://youtu.be/u9JsaFCgCrA)

### 製品説明（具体的な製品の説明）
- 入浴が開始されると, リモートサーバー(python)に加速度・物音の状態を送信する.
- リモートサーバ(python)は, 独自のアルゴリズムにより, 意識障害の状態を検知する.
- 溺れた状態を検出したら, アプリケーションサーバー(rails)にアラートを送り, アプリケーション(rails)にあらかじめ登録された家族全員の電話番号に自動で電話を発信する.
- 異常時は, アヒルが体温の上昇とともに赤く光る.　　　　    
- 異常時以外は, ライフログとして, 毎日の入浴ログを家族内で確認できる.

### 特長

#### 1. 特長1
- 導入コストがかからない.
#### 2. 特長2
- 非常事態以外は, **ライフログ的に活用可能** .
#### 3. 特長3
- 物音と加速度からの独自のアルゴリズムによる意識障害検出.
#### 4. 特徴4
- 利用者の精神的抵抗を小さくするため, 画像認識に頼らない検出と, お風呂になじみやすい外観.
#### 5. 特徴5
- ラジオが聴けたり, ランプになったりとお風呂で便利に使える機能がある.

### 解決出来ること
- 毎年5000人の方々の命を明るく, そして安く温かい方法で救う.

### 今後の展望
- 介護施設における設置
- 意識障害検出アルゴリズムの公共施設, 水産業などへの応用
- 小型化
- 自動発信電話だけでなく, その後の通話機能のダッグへの組み込み

## 開発内容・開発技術
### 活用した技術
#### API・データ
* IBM, twilio


#### フレームワーク・ライブラリ・モジュール
* python: data analysis, ble serial
* rails: main application, automatic alert, life log
* Vue.js: web application front, using vuex, flux architecture

#### デバイス
* arduino
* 加速度センサ
* bluetooth 通信モジュール

### 研究内容・事前開発プロダクト（任意）


### 独自開発技術（Hack Dayで開発したもの）
#### 2日間に開発した独自の機能・技術
* 水面の加速度から人が入浴中 / 溺れている を識別するデータ解析(お風呂の画像を取るのはプライバシー上危険なため,他のセンサを活用した.)

#### アプリケーション画面
[![LoverDuck](https://github.com/jphacks/TK_1720/blob/master/app/images/ducks.png)](https://youtu.be/u9JsaFCgCrA)
[![LoverDuck](https://github.com/jphacks/TK_1720/blob/master/app/images/form.png)](https://youtu.be/u9JsaFCgCrA)

#### 利用動画
![demo](https://github.com/jphacks/TK_1720/blob/master/how-to-use.gif)
